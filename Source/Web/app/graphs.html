<html>
<!-- Vincent worked on this on 9/05/2018 -->
<!-- Shaun made some changes 11/07/2018  -->
<!-- Vincent worked on this on 13/07/2018 -->
  <head>
  <meta charset="utf-8" />
  <title>Analytics</title>
  
    <!--Firebase-->
    <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-app.js"></script><!--Firebase application-->
    <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-auth.js"></script><!--Firebase authentication-->
    <script src="https://www.gstatic.com/firebasejs/4.12.0/firebase-database.js"></script><!--Firebase database functionality-->
    <script src="firebaseRelatedJavaScriptFunctions.js" type="text/javascript"></script><!--Calling predefined Firebase functions-->
    
    <!--jQuery-->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
                integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    
    <!--Graph file-->
    <script src="graphs.js" type="text/javascript"></script>
    
    
    <!-- Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
     <link href="graphCSS.css" rel="stylesheet" type="text/css"/>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script> <!-- This file needs to be included when youre working with charts -->
    <script type="text/javascript">
      $(document).ready(function() {
         initPage(); //Caling the function that is gonna begin everything for us
        /*
        calls to graphs.js will go here to retrieve the required information
       */

		/*This is the beggining of the pie						*/
         google.charts.load('current', {'packages':['corechart']});
         google.charts.setOnLoadCallback(drawChart);

         function drawChart() {

         var data = google.visualization.arrayToDataTable([
           ['Orchard', 'Number of Bags for Month'],
           ['Orchard A',     11],
           ['Orchard B',      2],
           ['Orchard C',  2],
           ['Orchard D',    7]
         ]);

         var options = {
           title: 'Overall Orchard performance Per Month'
         };

         var chart = new google.visualization.PieChart(document.getElementById('piechart'));

         chart.draw(data, options);
         }
     });
    </script>
	<script>
		window.onload = function () {
			
		var chart = new CanvasJS.Chart("curve_chart", { /* Choosing element to display the fraph on */
			animationEnabled: true,
			
			title:{
				text:"Number of bags collected per hour by Teboho Mokoena" //Setting the title of the graph
			},
			axisX:{ /* Setting the interval to increment with when a bag has been collected*/
				interval: 1
			},
			axisY2:{ /* Setting the color of the bars on the bar graph to match the theme of the page*/
				interlacedColor: "rgba(0,255,0,.2)",
				gridColor: "rgba(0,10,0,.1)",
				title: "Number of Bags"
			},
			data: [{
				type: "bar", //Setting the type of the graph
				name: "Bags", //Name of the variables collected 
				axisYType: "secondary",
				color: "#00a33f", //Matching the color of the graph to that of the chosen theme
				dataPoints: [ //These are the data points to plot the graph
					{ y: 8, label: "06:00 - 07:00" },
					{ y: 6, label: "07:00 - 08:00" },
					{ y: 7, label: "08:00 - 09:00" },
					{ y: 7, label: "09:00 - 10:00" },
					{ y: 5, label: "10:00 - 11:00" },
					{ y: 9, label: "11:00 - 12:00" },
					{ y: 7, label: "12:00 - 13:00" },
					{ y: 7, label: "13:00 - 14:00" },
					{ y: 9, label: "14:00 - 15:00" },
					{ y: 8, label: "15:00 - 16:00" },
					{ y: 11, label: "16:00 - 17:00" },
					{ y: 15, label: "17:00 - 18:00" }
				]
			}]
		});
		chart.render(); //Display the graph

		}
	</script>
	<script type="text/javascript">
    google.charts.load("current", {packages:["corechart"]});
    google.charts.setOnLoadCallback(drawChart);
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ["Period", "Number of Bags", { role: "style" } ],
        ["06:00 - 07:00", 8, "#00a33f"],
        ["07:00 - 08:00", 6, "#00a33f"],
        ["08:00 - 09:00", 3, "#00a33f"],
		["09:00 - 10:00", 7, "#00a33f"],
        ["10:00 - 11:00", 5, "#00a33f"],
        ["11:00 - 12:00", 9, "#00a33f"],
		["12:00 - 13:00", 7, "#00a33f"],
        ["13:00 - 14:00", 7, "#00a33f"],
        ["14:00 - 15:00", 9, "#00a33f"],
        ["15:00 - 16:00", 8, "#00a33f"],
		["16:00 - 17:00", 11, "#00a33f"],
        ["17:00 - 18:00", 15, "#00a33f"]
      ]);

      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);

      var options = {
        title: "Number of bags collected per hour by Teboho Mokoena",
        width: 1200,
        height: 700,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
      };
      var chart = new google.visualization.BarChart(document.getElementById("barchart_values"));
      chart.draw(view, options);
  }
  </script>
  </head>
  <body>
	<div class="topnav">
            <ul class="nav navbar-nav">
                <a class="active" href="HomePage.html">Back to Home</a>
            </ul>
	</div>
	<div class="container">
            <!-- top chart can be orchard historical performance-->
            <div class="left">
                <div id="piechart" style="width: 900px; height: 500px;"></div>
                <!-- below are objects the user can use to filter information-->
                <div id="topChartFilter">
                    <label>Select an orchard:
                        <select id="orchardSelect"></select>
                    </label> 
                    <label>Select starting date:
                        <input type="date" id="startDateSelect" />
                    </label>
                    <label>Select ending date:
                        <input type="date" id="endDateSelect" />
                    </label>
                    <button type = "button" id='orchardFilter' onclick='filterOrchard()'>
                        Filter Orchard Graph</button>
                </div>
            </div>
            <!-- bottom graph can be the worker performance graph-->
            <div class="right" >
                <div id="curve_chart" style="width: 900px; height: 500px"></div>
                <!-- below are objects the user can use to filter information-->
                <div id="bottomChartFilter">
                    <label>Select a worker:
                        <select id="workerSelect"></select>
                    </label> 
                    <label>Select date:
                        <input type="date" id="workerDateSelect" />
                    </label>
                    <button type = "button" id='workerFilter' onclick='filterWorker()'>
                        Filter Worker Performance Graph </button>
                </div>
            </div>
	</div>
	
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
  </body>
</html>